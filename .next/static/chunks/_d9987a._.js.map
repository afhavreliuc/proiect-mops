{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/src/components/DiskDetailsModal.tsx"],"sourcesContent":["import React from \"react\";\n\ninterface DiskDetailsModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  disk: { title: string; label: string; price: number; details: string };\n}\n\nconst DiskDetailsModal: React.FC<DiskDetailsModalProps> = ({ isOpen, onClose, disk }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal\">\n        <h2 className=\"text-2xl\">{disk.title}</h2>\n        <p><strong>Label:</strong> {disk.label}</p>\n        <p><strong>Price:</strong> ${disk.price}</p>\n        <p><strong>Details:</strong> {disk.details}</p>\n        <button onClick={onClose} className=\"mt-4 px-4 py-2 bg-red-500 text-white rounded\">Close</button>\n      </div>\n    </div>\n  );\n};\n\nexport default DiskDetailsModal;"],"names":[],"mappings":";;;;;AAQA,MAAM,mBAAoD,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE;IAClF,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAY,KAAK,KAAK;;;;;;8BACpC,6LAAC;;sCAAE,6LAAC;sCAAO;;;;;;wBAAe;wBAAE,KAAK,KAAK;;;;;;;8BACtC,6LAAC;;sCAAE,6LAAC;sCAAO;;;;;;wBAAe;wBAAG,KAAK,KAAK;;;;;;;8BACvC,6LAAC;;sCAAE,6LAAC;sCAAO;;;;;;wBAAiB;wBAAE,KAAK,OAAO;;;;;;;8BAC1C,6LAAC;oBAAO,SAAS;oBAAS,WAAU;8BAA+C;;;;;;;;;;;;;;;;;AAI3F;KAdM;uCAgBS"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/src/components/CartModal.tsx"],"sourcesContent":["import React from 'react';\n\ninterface CartModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    cartItems: { title: string; price: number; id: number }[];\n    totalPrice: number;\n    shippingCost: number;\n    onRemove: (id: number) => void;\n    onClearCart: () => void;\n    onToggleFavorite: (id: number) => void;\n    favorites: number[];  // Array of favorite item IDs\n}\n\nconst CartModal: React.FC<CartModalProps> = ({ \n    isOpen, \n    onClose, \n    cartItems, \n    totalPrice, \n    shippingCost, \n    onRemove, \n    onClearCart,\n    onToggleFavorite,\n    favorites \n}) => {\n    if (!isOpen) return null;\n  \n    return (\n      <div className=\"modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\n        <div className=\"modal bg-white rounded-lg p-4\">\n          <h2 className=\"text-2xl\">Cart</h2>\n          <ul>\n            {cartItems.map((item) => (\n              <li key={item.id} className=\"flex justify-between items-center\">\n                <span>{item.title} - ${item.price}</span>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => onToggleFavorite(item.id)}\n                    className={`px-2 py-1 ${\n                      favorites.includes(item.id) ? 'text-yellow-500' : 'text-gray-500'\n                    }`}\n                  >\n                    ★\n                  </button>\n                  <button onClick={() => onRemove(item.id)} className=\"px-2 py-1 bg-red-500 text-white rounded\">\n                    Remove\n                  </button>\n                </div>\n              </li>\n            ))}\n          </ul>\n          <h3 className=\"text-xl\">Total Price: ${totalPrice}</h3>\n          <h4 className=\"text-lg\">Shipping Cost: ${shippingCost}</h4>\n          <button onClick={onClearCart} className=\"mt-4 px-4 py-2 bg-green-500 text-white rounded\">\n            Pay\n          </button>\n          <button onClick={onClose} className=\"mt-4 px-4 py-2 bg-red-500 text-white rounded\">Close</button>\n        </div>\n      </div>\n    );\n};\n\nexport default CartModal;"],"names":[],"mappings":";;;;;AAcA,MAAM,YAAsC,CAAC,EACzC,MAAM,EACN,OAAO,EACP,SAAS,EACT,UAAU,EACV,YAAY,EACZ,QAAQ,EACR,WAAW,EACX,gBAAgB,EAChB,SAAS,EACZ;IACG,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAW;;;;;;8BACzB,6LAAC;8BACE,UAAU,GAAG,CAAC,CAAC,qBACd,6LAAC;4BAAiB,WAAU;;8CAC1B,6LAAC;;wCAAM,KAAK,KAAK;wCAAC;wCAAK,KAAK,KAAK;;;;;;;8CACjC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,SAAS,IAAM,iBAAiB,KAAK,EAAE;4CACvC,WAAW,CAAC,UAAU,EACpB,UAAU,QAAQ,CAAC,KAAK,EAAE,IAAI,oBAAoB,iBAClD;sDACH;;;;;;sDAGD,6LAAC;4CAAO,SAAS,IAAM,SAAS,KAAK,EAAE;4CAAG,WAAU;sDAA0C;;;;;;;;;;;;;2BAXzF,KAAK,EAAE;;;;;;;;;;8BAkBpB,6LAAC;oBAAG,WAAU;;wBAAU;wBAAe;;;;;;;8BACvC,6LAAC;oBAAG,WAAU;;wBAAU;wBAAiB;;;;;;;8BACzC,6LAAC;oBAAO,SAAS;oBAAa,WAAU;8BAAiD;;;;;;8BAGzF,6LAAC;oBAAO,SAAS;oBAAS,WAAU;8BAA+C;;;;;;;;;;;;;;;;;AAI7F;KA9CM;uCAgDS"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/src/app/disks/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useRouter } from \"next/navigation\";\nimport DiskDetailsModal from \"../../components/DiskDetailsModal\";\nimport { RootState } from \"../../lib/store\";\nimport CartModal from \"../../components/CartModal\";\nimport Link from 'next/link';\n\nconst DisksPage = () => {\n  const router = useRouter();\n  const { currentUser } = useSelector((state: RootState) => state.auth);\n\n  // Redirect to the main page if not logged in\n  useEffect(() => {\n    if (!currentUser) {\n      router.push(\"/\"); // Redirect to the main page\n    }\n  }, [currentUser, router]);\n\n  const [disks, setDisks] = useState<any[]>([\n    { id: 1, title: \"Disk One\", label: \"Label A\", price: 10, details: \"This is a great album with amazing tracks.\" },\n    { id: 2, title: \"Disk Two\", label: \"Label B\", price: 15, details: \"A classic collection of timeless songs.\" },\n    { id: 3, title: \"Disk Three\", label: \"Label C\", price: 20, details: \"An eclectic mix of genres and styles.\" },\n  ]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isCartOpen, setCartOpen] = useState(false);\n  const [isDetailsOpen, setDetailsOpen] = useState(false);\n  const [selectedDisk, setSelectedDisk] = useState<any>(null);\n  const [cartItems, setCartItems] = useState<{ title: string; price: number; id: number }[]>([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [favorites, setFavorites] = useState<number[]>(() => {\n    if (typeof window !== 'undefined') {\n      const stored = localStorage.getItem('favorites');\n      return stored ? JSON.parse(stored) : [];\n    }\n    return [];\n  });\n\n\n  const addToCart = (disk: { title: string; price: number; id: number }) => {\n    const exists = cartItems.find(item => item.id === disk.id);\n    if (!exists) {\n      setCartItems([...cartItems, { ...disk, id: disk.id }]);\n      setTotalPrice(totalPrice + disk.price);\n    }\n  };\n\n  const removeFromCart = (id: number) => {\n    const updatedCartItems = cartItems.filter(item => item.id !== id);\n    const removedItem = cartItems.find(item => item.id === id);\n    if (removedItem) {\n      setTotalPrice(totalPrice - removedItem.price);\n    }\n    setCartItems(updatedCartItems);\n\n    // Close the cart modal if there are no items left\n    if (updatedCartItems.length === 0) {\n      setCartOpen(false);\n    }\n  };\n\n  const clearCart = () => {\n    setCartItems([]);\n    setTotalPrice(0);\n    setCartOpen(false); // Optionally close the cart modal\n  };\n\n  const filteredDisks = disks.filter(disk =>\n    disk.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  // Shipping cost logic\n  const shippingCost = totalPrice >= 20 ? 0 : 5; // $5 shipping if total is $20 or less\n  const finalPrice = totalPrice + shippingCost;\n\n  const openDetails = (disk: any) => {\n    setSelectedDisk(disk);\n    setDetailsOpen(true);\n  };\n\n  const handleToggleFavorite = (id: number) => {\n    setFavorites(prev => {\n      const newFavorites = prev.includes(id) \n        ? prev.filter(itemId => itemId !== id)\n        : [...prev, id];\n      localStorage.setItem('favorites', JSON.stringify(newFavorites));\n      return newFavorites;\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <h1 className=\"text-4xl mb-4\">Search for Disks</h1>\n      <div className=\"flex gap-4 mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by title...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"p-2 border border-gray-300 rounded\"\n        />\n        <Link href=\"/favorites\" className=\"px-4 py-2 bg-yellow-500 text-white rounded\">\n          View Favorites\n        </Link>\n        <button\n          onClick={() => {\n            if (cartItems.length > 0) {\n              setCartOpen(true);\n            }\n          }}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded\"\n        >\n          Open Cart\n        </button>\n      </div>\n      <ul className=\"list-disc\">\n        {filteredDisks.length === 0 ? (\n          <li className=\"text-red-500\">No disks found.</li>\n        ) : (\n          filteredDisks.map(disk => (\n            <li key={disk.id} className=\"mb-2 flex items-center gap-2\">\n              {disk.title} - {disk.label}\n              <button\n                onClick={() => handleToggleFavorite(disk.id)}\n                className={`px-2 py-1 ${favorites.includes(disk.id) ? 'text-yellow-500' : 'text-gray-500'}`}\n              >\n                ★\n              </button>\n              <button \n                onClick={() => addToCart({ title: disk.title, price: disk.price, id: disk.id })} \n                className=\"px-2 py-1 bg-green-500 text-white rounded\"\n              >\n                Add to Cart\n              </button>\n              <button \n                onClick={() => openDetails(disk)} \n                className=\"px-2 py-1 bg-blue-500 text-white rounded\"\n              >\n                Details\n              </button>\n            </li>\n          ))\n        )}\n      </ul>\n      <CartModal \n        isOpen={isCartOpen} \n        onClose={() => setCartOpen(false)} \n        cartItems={cartItems} \n        totalPrice={finalPrice} \n        shippingCost={shippingCost} \n        onRemove={removeFromCart} \n        onClearCart={clearCart}\n        onToggleFavorite={handleToggleFavorite}\n        favorites={favorites}\n      />\n      <DiskDetailsModal \n        isOpen={isDetailsOpen} \n        onClose={() => setDetailsOpen(false)} \n        disk={selectedDisk} \n      />\n    </div>\n  );\n};\n\nexport default DisksPage;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 526, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}