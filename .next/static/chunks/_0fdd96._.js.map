{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/src/app/disks/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useRouter } from \"next/navigation\";\nimport DiskDetailsModal from \"../../components/DiskDetailsModal\";\nimport { RootState } from \"../../store\";\nimport CartModal from \"../../components/CartModal\";\nimport Link from 'next/link';\n\nconst DisksPage = () => {\n  const router = useRouter();\n  const { currentUser } = useSelector((state: RootState) => state.auth);\n\n  // Redirect to the main page if not logged in\n  useEffect(() => {\n    if (!currentUser) {\n      router.push(\"/\"); // Redirect to the main page\n    }\n  }, [currentUser, router]);\n\n  const [disks, setDisks] = useState<any[]>([\n    { id: 1, title: \"Disk One\", label: \"Label A\", price: 10, details: \"This is a great album with amazing tracks.\" },\n    { id: 2, title: \"Disk Two\", label: \"Label B\", price: 15, details: \"A classic collection of timeless songs.\" },\n    { id: 3, title: \"Disk Three\", label: \"Label C\", price: 20, details: \"An eclectic mix of genres and styles.\" },\n  ]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isCartOpen, setCartOpen] = useState(false);\n  const [isDetailsOpen, setDetailsOpen] = useState(false);\n  const [selectedDisk, setSelectedDisk] = useState<any>(null);\n  const [cartItems, setCartItems] = useState<{ title: string; price: number; id: number }[]>([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [favorites, setFavorites] = useState<number[]>([]);\n\n\n  const addToCart = (disk: { title: string; price: number; id: number }) => {\n    const exists = cartItems.find(item => item.id === disk.id);\n    if (!exists) {\n      setCartItems([...cartItems, { ...disk, id: disk.id }]);\n      setTotalPrice(totalPrice + disk.price);\n    }\n  };\n\n  const removeFromCart = (id: number) => {\n    const updatedCartItems = cartItems.filter(item => item.id !== id);\n    const removedItem = cartItems.find(item => item.id === id);\n    if (removedItem) {\n      setTotalPrice(totalPrice - removedItem.price);\n    }\n    setCartItems(updatedCartItems);\n\n    // Close the cart modal if there are no items left\n    if (updatedCartItems.length === 0) {\n      setCartOpen(false);\n    }\n  };\n\n  const clearCart = () => {\n    setCartItems([]);\n    setTotalPrice(0);\n    setCartOpen(false); // Optionally close the cart modal\n  };\n\n  const filteredDisks = disks.filter(disk =>\n    disk.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  // Shipping cost logic\n  const shippingCost = totalPrice >= 20 ? 0 : 5; // $5 shipping if total is $20 or less\n  const finalPrice = totalPrice + shippingCost;\n\n  const openDetails = (disk: any) => {\n    setSelectedDisk(disk);\n    setDetailsOpen(true);\n  };\n\n  const handleToggleFavorite = (id: number) => {\n    setFavorites(prev => \n      prev.includes(id) \n        ? prev.filter(itemId => itemId !== id)\n        : [...prev, id]\n    );\n  };\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <h1 className=\"text-4xl mb-4\">Search for Disks</h1>\n      <div className=\"flex gap-4 mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by title...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"p-2 border border-gray-300 rounded\"\n        />\n        <Link href=\"/favorites\" className=\"px-4 py-2 bg-yellow-500 text-white rounded\">\n          View Favorites\n        </Link>\n        <button\n          onClick={() => {\n            if (cartItems.length > 0) {\n              setCartOpen(true);\n            }\n          }}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded\"\n        >\n          Open Cart\n        </button>\n      </div>\n      <ul className=\"list-disc\">\n        {filteredDisks.length === 0 ? (\n          <li className=\"text-red-500\">No disks found.</li>\n        ) : (\n          filteredDisks.map(disk => (\n            <li key={disk.id} className=\"mb-2 flex items-center gap-2\">\n              {disk.title} - {disk.label}\n              <button\n                onClick={() => handleToggleFavorite(disk.id)}\n                className={`px-2 py-1 ${favorites.includes(disk.id) ? 'text-yellow-500' : 'text-gray-500'}`}\n              >\n                â˜…\n              </button>\n              <button \n                onClick={() => addToCart({ title: disk.title, price: disk.price, id: disk.id })} \n                className=\"px-2 py-1 bg-green-500 text-white rounded\"\n              >\n                Add to Cart\n              </button>\n              <button \n                onClick={() => openDetails(disk)} \n                className=\"px-2 py-1 bg-blue-500 text-white rounded\"\n              >\n                Details\n              </button>\n            </li>\n          ))\n        )}\n      </ul>\n      {/* ... existing modals ... */}\n    </div>\n  );\n};\nexport default DisksPage;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}