{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/src/lib/features/AuthSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { \n  createUserWithEmailAndPassword, \n  signInWithEmailAndPassword, \n  signOut, \n  updateProfile,\n  GoogleAuthProvider,\n  signInWithPopup\n} from 'firebase/auth';\nimport { auth } from '../../configfirebase';\n\nexport const signUp = createAsyncThunk(\n  'auth/signUp',\n  async ({ email, password, displayName }: { email: string; password: string; displayName: string }, { rejectWithValue }) => {\n    try {\n      const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n      await updateProfile(userCredential.user, { displayName });\n      return userCredential.user;\n    } catch (error: any) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const login = createAsyncThunk(\n  'auth/login',\n  async ({ email, password }: { email: string; password: string }, { rejectWithValue }) => {\n    try {\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      return userCredential.user;\n    } catch (error: any) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const logout = createAsyncThunk(\n  'auth/logout',\n  async () => {\n    await signOut(auth);\n  }\n);\n\nexport const signInWithGoogle = createAsyncThunk(\n  'auth/signInWithGoogle',\n  async (_, { rejectWithValue }) => {\n    try {\n      const provider = new GoogleAuthProvider();\n      const result = await signInWithPopup(auth, provider);\n      return result.user;\n    } catch (error: any) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    currentUser: null,\n    loading: false,\n    error: null\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(signUp.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(signUp.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentUser = action.payload;\n      })\n      .addCase(signUp.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(login.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(login.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentUser = action.payload;\n      })\n      .addCase(login.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      })\n      .addCase(logout.fulfilled, (state) => {\n        state.currentUser = null;\n      })\n      .addCase(signInWithGoogle.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(signInWithGoogle.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentUser = action.payload;\n      })\n      .addCase(signInWithGoogle.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      });\n  }\n});\n\nexport default authSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/src/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { logout } from \"@/lib/features/AuthSlice\";\nimport { AppDispatch, RootState } from \"@/lib/store\";\nimport React from \"react\";\n\nconst Header = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { currentUser } = useSelector((state: RootState) => state.auth);\n\n  const handleLogout = async () => {\n    await dispatch(logout());\n  };\n\n  return (\n    <div className=\"h-28 w-full flex items-center bg-schwarzwald-green px-4 relative\">\n      <div className=\"absolute left-4 flex space-x-4\">\n        <Link href=\"/disks\" className=\"text-white\">\n          Disks\n        </Link>\n        {currentUser ? (\n          <>\n            <span className=\"text-white\">Welcome, {currentUser.displayName || currentUser.email}</span>\n            <button onClick={handleLogout} className=\"text-white\">\n              Logout\n            </button>\n          </>\n        ) : (\n          <>\n            <Link href=\"/login\" className=\"text-white\">\n              Login\n            </Link>\n            <Link href=\"/signup\" className=\"text-white\">\n              Sign Up\n            </Link>\n          </>\n        )}\n      </div>\n      <div className=\"flex-1 flex justify-center\">\n        <Link href=\"/\" className=\"flex items-center\">\n          <Image\n            src=\"/logo.png\"\n            alt=\"Vaultone logo\"\n            width={271}\n            height={36}\n            priority\n          />\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AADA;;;AAJA;;;;;AASA,MAAM,SAAS;;IACb,MAAM,WAAW,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,4JAAA,CAAA,cAAW,AAAD;8BAAE,CAAC,QAAqB,MAAM,IAAI;;IAEpE,MAAM,eAAe;QACnB,MAAM,SAAS,CAAA,GAAA,sIAAA,CAAA,SAAM,AAAD;IACtB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,WAAU;kCAAa;;;;;;oBAG1C,4BACC;;0CACE,6LAAC;gCAAK,WAAU;;oCAAa;oCAAU,YAAY,WAAW,IAAI,YAAY,KAAK;;;;;;;0CACnF,6LAAC;gCAAO,SAAS;gCAAc,WAAU;0CAAa;;;;;;;qDAKxD;;0CACE,6LAAC,+JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAa;;;;;;0CAG3C,6LAAC,+JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAU,WAAU;0CAAa;;;;;;;;;;;;;;0BAMlD,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAI,WAAU;8BACvB,cAAA,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,QAAQ;;;;;;;;;;;;;;;;;;;;;;AAMpB;GA7CM;;QACa,4JAAA,CAAA,cAAW;QACJ,4JAAA,CAAA,cAAW;;;KAF/B;uCA+CS"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/src/lib/store.ts"],"sourcesContent":["import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\nimport authReducer from \"./features/AuthSlice\";\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  // add more here\n});\n\nexport const makeStore = () => {\n  return configureStore({\n    reducer: rootReducer,\n    middleware: (getDefaultMiddleware) =>\n      getDefaultMiddleware({ serializableCheck: false }), // should be fixed maybe?\n  });\n};\n\nexport type AppStore = ReturnType<typeof makeStore>;\nexport type RootState = ReturnType<AppStore[\"getState\"]>;\nexport type AppDispatch = AppStore[\"dispatch\"];\n"],"names":[],"mappings":";;;AACA;AADA;AAAA;;;AAGA,MAAM,cAAc,CAAA,GAAA,0IAAA,CAAA,kBAAe,AAAD,EAAE;IAClC,MAAM,sIAAA,CAAA,UAAW;AAEnB;AAEO,MAAM,YAAY;IACvB,OAAO,CAAA,GAAA,8LAAA,CAAA,iBAAc,AAAD,EAAE;QACpB,SAAS;QACT,YAAY,CAAC,uBACX,qBAAqB;gBAAE,mBAAmB;YAAM;IACpD;AACF"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/andrei/Downloads/proiect-mops-shazam%202/proiect-mops/src/app/StoreProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRef } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { makeStore, AppStore } from \"../lib/store\";\n\nexport default function StoreProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const storeRef = useRef<AppStore>(null);\n  if (!storeRef.current) {\n    storeRef.current = makeStore();\n  }\n\n  return <Provider store={storeRef.current}>{children}</Provider>;\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AADA;;;AAHA;;;;AAMe,SAAS,cAAc,EACpC,QAAQ,EAGT;;IACC,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAY;IAClC,IAAI,CAAC,SAAS,OAAO,EAAE;QACrB,SAAS,OAAO,GAAG,CAAA,GAAA,sHAAA,CAAA,YAAS,AAAD;IAC7B;IAEA,qBAAO,6LAAC,4JAAA,CAAA,WAAQ;QAAC,OAAO,SAAS,OAAO;kBAAG;;;;;;AAC7C;GAXwB;KAAA"}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}